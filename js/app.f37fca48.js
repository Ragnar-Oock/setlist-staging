(function(e){function t(t){for(var a,i,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],a=!0,o=1;o<s.length;o++){var c=s[o];0!==n[c]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=s[0]))}return e}var a={},n={app:0},r=[];function i(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=e,i.c=a,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(s,a,function(t){return e[t]}.bind(null,a));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"0cb2e":function(e,t,s){"use strict";s("7e75")},"0eeb":function(e,t,s){},"270b":function(e,t,s){},"274f":function(e,t,s){},"356c":function(e,t,s){},"402b":function(e,t,s){},"4e52":function(e,t,s){"use strict";s("7891")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app",attrs:{id:"app"}},[s("WelcomeScreen",{on:{visible:e.onWelcomeScreenVisiblityChange}}),s("main",[s("TopBar",{attrs:{"is-search-bar-docked":e.isSearchBarDocked}}),s("RulesPage",{attrs:{show:e.showRules}}),s("div",{staticClass:"setlist"},[s("SearchBar",{on:{docked:function(t){e.isSearchBarDocked=t},refresh:e.refreshList}}),e.error?s("div",{staticClass:"error message-box"},[s("p",{staticClass:"message-box__title"},[e._v(" "+e._s(e.$t("apiError"))+" ")]),s("p",[e._v(e._s(e.error))])]):e._e(),e.isLoading&&!e.error&&0===e.getPage?s("div",{staticClass:"message-box"},[s("p",[e._v(e._s(e.$t("loading")))]),s("div",{staticClass:"loader"})]):e._e(),s("DynamicScroller",{class:{scroller:!e.isLastPage},attrs:{items:e.songList,"min-item-size":95,"key-field":"id","page-mode":"",buffer:350},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.item,n=t.index,r=t.active;return[s("DynamicScrollerItem",{attrs:{item:a,active:r,"size-dependencies":[a.open],"data-index":n}},[s("MusicItem",{attrs:{data:a},on:{open:function(t){return e.open(n)}}})],1)]}}])}),e.isLoading&&!e.error&&e.getPage>0?s("div",{staticClass:"message-box"},[s("p",[e._v(e._s(e.$t("loading")))]),s("div",{staticClass:"loader"})]):e._e(),e.isLastPage?s("div",{staticClass:"message-box"},[s("p",{staticClass:"message-box__title"},[e._v(" "+e._s(e.$t("listEnd.title"))+" ")]),s("p",[e._v(e._s(e.$t("listEnd.hint")))])]):e._e()],1),s("div",{ref:"bottom",attrs:{id:"bottom"}}),s("portal-target",{attrs:{name:"screen"}}),s("portal-target",{attrs:{name:"popup"}})],1)],1)},r=[],i=(s("4160"),s("159b"),s("5530")),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.isScrolled?e._e():s("section",{ref:"root",staticClass:"welcome-screen",class:{scrolling:e.isScrolling},on:{transitionend:e.focusOut}},[s("div",{staticClass:"welcome-screen__texts"},[e._m(0),s("p",{staticClass:"welcome-screen__comment"},[e._v(" "+e._s(e.$t("welcome.message.part1"))),s("br"),e._v(e._s(e.$t("welcome.message.part2"))+" ")])]),s("div",{staticClass:"welcome-screen__scrolldown"},[s("div",{staticClass:"scrolldown__text"},[e._v(" "+e._s(e.$t("welcome.see"))+" ")]),s("button",{staticClass:"scrolldown__logo",on:{click:e.scroll}},[s("svg",{class:"scrolldown__static",attrs:{width:"42",height:"82",viewBox:"0 0 42 82",fill:"none",stroke:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M7.5 47l13.777 13.777L35.054 47","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}}),s("path",{attrs:{d:"M7.5 59l13.777 13.777L35.054 59","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}})]),s("svg",{class:"scrolldown__moving",attrs:{xmlns:"http://www.w3.org/2000/svg",width:"31.796",height:"17.398",viewBox:"0 0 31.796 17.398","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M2.121 2.121l13.777 13.777L29.675 2.121",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3"}})]),s("div",{staticClass:"sr-only"},[e._v(" "+e._s(e.$t("welcome.scrolldown"))+" ")])])])])},c=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("h1",{staticClass:"welcome-screen__title"},[e._v(" WART"),s("span",{staticClass:"fliker"},[e._v("H")]),e._v("S' STREAM SE"),s("span",{staticClass:"fliker"},[e._v("T")]),e._v("LI"),s("span",{staticClass:"fliker"},[e._v("S")]),e._v("T ")])}],l={name:"WelcomeScreen",props:[],data:function(){return{isScrolled:!1,isScrolling:!1}},mounted:function(){document.addEventListener("scroll",this.scroll,{once:!0})},methods:{scroll:function(){var e=this;this.isScrolling=!0,document.childNodes[1].scrollTo({top:0}),this.$refs.root.addEventListener("animationend",(function(t){"scroll"===t.animationName&&(e.$emit("visible",!1),e.$nextTick((function(){e.isScrolled=!0,e.isScrolling=!1})))}))},focusOut:function(e){console.log(e),e.target==this.$refs.root&&this.scroll()}}},u=l,d=(s("b09f"),s("2877")),h=Object(d["a"])(u,o,c,!1,null,null,null),p=h.exports,g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"top-bar",class:{docked:e.isSearchBarDocked}},[s("div",{staticClass:"top-bar__left"},[s("LangSelector",{staticClass:"top-bar__item"})],1),s("div",{staticClass:"top-bar__right"},[s("KoFi",{staticClass:"top-bar__item"}),s("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom",popperOptions:{strategy:"fixed"}},expression:"{placement:'bottom', popperOptions: {strategy: 'fixed'}}"}],ref:"darkmode",staticClass:"top-bar__label top-bar__item",class:{checked:e.isDarkModeOn},attrs:{for:"darkMode","data-tippy-content":e.$t("topBar.darkMode")}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.isDarkModeOn,expression:"isDarkModeOn"}],staticClass:"sr-only",attrs:{id:"darkMode",type:"checkbox",name:"darkMode"},domProps:{checked:Array.isArray(e.isDarkModeOn)?e._i(e.isDarkModeOn,null)>-1:e.isDarkModeOn},on:{change:function(t){var s=e.isDarkModeOn,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);a.checked?i<0&&(e.isDarkModeOn=s.concat([r])):i>-1&&(e.isDarkModeOn=s.slice(0,i).concat(s.slice(i+1)))}else e.isDarkModeOn=n}}}),s("transition",{attrs:{name:"rise",mode:"out-in"}},[e.isDarkModeOn?s("svg",{key:"on",class:"top-bar__icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M14.53 10.53a7 7 0 01-9.058-9.058A7.003 7.003 0 008 15a7.002 7.002 0 006.53-4.47z"}})]):s("svg",{key:"off",class:"top-bar__icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M12 8a4 4 0 11-8 0 4 4 0 018 0z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M8 0a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 0zm0 13a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 13zm8-5a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zM3 8a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2A.5.5 0 013 8zm10.657-5.657a.5.5 0 010 .707l-1.414 1.415a.5.5 0 11-.707-.708l1.414-1.414a.5.5 0 01.707 0zm-9.193 9.193a.5.5 0 010 .707L3.05 13.657a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm9.193 2.121a.5.5 0 01-.707 0l-1.414-1.414a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707zM4.464 4.465a.5.5 0 01-.707 0L2.343 3.05a.5.5 0 11.707-.707l1.414 1.414a.5.5 0 010 .708z"}})])]),e.isDarkModeOn?s("div",{key:"on",staticClass:"top-bar__horizon on"}):s("div",{key:"off",staticClass:"top-bar__horizon off"}),s("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("topBar.darkMode")))])],1)],1)])},m=[],f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"lang-selector"},e._l(e.supportedLocales,(function(t,a){return s("div",{key:a,staticClass:"lang-selector__item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.$i18n.locale,expression:"$i18n.locale"}],staticClass:"lang-selector__input",attrs:{id:a,type:"radio",name:"lang"},domProps:{value:a,checked:e._q(e.$i18n.locale,a)},on:{change:[function(t){return e.$set(e.$i18n,"locale",a)},e.change]}}),s("label",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom",popperOptions:{strategy:"fixed"}},expression:"{placement: 'bottom', popperOptions: {strategy: 'fixed'}}"}],staticClass:"lang-selector__label",attrs:{for:a,"data-tippy-content":t}},[e._v(e._s(e._f("toUpper")(a))+" "),s("span",{staticClass:"sr-only"},[e._v(e._s(t))])])])})),0)},v=[],b=(s("d3b7"),s("25f0"),s("caad"),s("b64b"),s("2532"),{fr:"Français",en:"English"});function _(e){return Object.keys(b).includes(e)}var y={name:"LangSelector",filters:{toUpper:function(e){return e?e.toString().toUpperCase():""}},data:function(){return{supportedLocales:b}},methods:{change:function(){localStorage.setItem("langLocal",this.$i18n.locale),document.documentElement.lang=this.$i18n.locale}}},w=y,S=(s("acd9"),Object(d["a"])(w,f,v,!1,null,null,null)),k=S.exports,C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ko-fi"},[a("a",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom",popperOptions:{strategy:"fixed"}},expression:"{placement:'bottom', popperOptions: {strategy: 'fixed'}}"}],ref:"open",staticClass:"ko-fi__button",attrs:{"data-tippy-content":e.$t("kofi.tooltip")},on:{click:function(t){return e.togglePopup(!0)}}},[a("img",{attrs:{src:s("bea8"),alt:"Ko-fi logo"}})]),a("portal",{attrs:{to:"popup"}},[e.isOpen?a("div",{ref:"popup",staticClass:"popup",attrs:{tabindex:"-1"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.onEscape(t)}}},[a("div",{staticClass:"popup__col-left"},[a("img",{attrs:{src:"https://media.giphy.com/media/ZEgBHVeRlmTqjCPlqx/giphy.gif",alt:"Sponge Bob"}})]),a("div",{staticClass:"popup__col-right"},[a("h2",[e._v(e._s(e.$t("kofi.title")))]),a("p",{staticClass:"popup__quote"},[e._v(' "'+e._s(e.$t("kofi.quote"))+'" ')]),a("p",{staticClass:"popup__signature"},[e._v(" "+e._s(e.$t("kofi.signature"))+" ")]),a("a",{staticClass:"popup__button",attrs:{href:"https://ko-fi.com/ragnar_oock",target:"_blank",rel:"noopener noreferrer"}},[a("span",[e._v(e._s(e.$t("kofi.button")))])])])]):e._e()]),a("portal",{attrs:{to:"screen"}},[e.isOpen?a("div",{staticClass:"screen",on:{click:function(t){return e.togglePopup(!1)}}}):e._e()])],1)},x=[],O={name:"KoFi",props:[],data:function(){return{isOpen:!1}},methods:{togglePopup:function(e){var t=this;this.isOpen=e||!this.isOpen,this.isOpen?this.$nextTick().then((function(){t.$refs.popup.focus()})):this.$refs.open.focus()},onEscape:function(){this.togglePopup(!1)}}},A=O,E=(s("82b0"),Object(d["a"])(A,C,x,!1,null,null,null)),M=E.exports,$={name:"TopBar",components:{LangSelector:k,KoFi:M},props:{isSearchBarDocked:{type:Boolean,required:!1,default:!1}},data:function(){return{isMenuOpen:!1}},computed:{isDarkModeOn:{get:function(){return this.$store.getters.isDarkModeOn},set:function(e){this.$store.commit("SET_DARK_MODE",e)}}},methods:{toggleMenu:function(e){"undefined"===typeof e||e instanceof Event?this.isMenuOpen=!this.isMenuOpen:this.isMenuOpen=e}}},T=$,L=(s("d4bd"),Object(d["a"])(T,g,m,!1,null,null,null)),B=L.exports,j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Fragment")},I=[],R=s("0e54"),P=s.n(R),q=s("2f62"),D=s("3f08"),N={name:"RulesPage",components:{Fragment:D["a"]},props:{show:{type:Boolean,default:!1,required:!0}},computed:Object(i["a"])({rules:function(){return P()(this.$t("rules.rules.body"))},tuto:function(){return P()(this.$t("rules.tuto"))},footer:function(){return P()(this.$t("rules.footer"))}},Object(q["c"])({lastAcceptedRuleVersion:function(e){return e.percist.lastAcceptedRuleVersion}})),watch:{show:function(e){e&&this.lastAcceptedRuleVersion<"1"&&this.showAlert()}},methods:{showAlert:function(){var e=this;this.$swal({title:this.$t("rules.rules.title"),html:P()(this.$t("rules.rules.body")),customClass:{container:"container",popup:"popup-box",header:"header",title:"title",closeButton:"close",icon:"icon",image:"img",content:"content",htmlContainer:"body",input:"input",inputLabel:"label",validationMessage:"validation",actions:"action",confirmButton:"confirm",denyButton:"deny",cancelButton:"cancel",loader:"loader",footer:"footer"},allowOutsideClick:!1,confirmButtonText:this.$t("rules.rules.agree"),focusConfirm:!1}).then((function(t){t.isConfirmed&&e.$store.commit("SET_LAST_ACCEPTED_RULE_VERSION","1")}));var t=document.querySelector(".popup-box");this.$nextTick((function(){return t.focus()}))}}},z=N,F=(s("bb13"),Object(d["a"])(z,j,I,!1,null,null,null)),V=F.exports,G=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Fragment",[s("form",{ref:"searchBar",staticClass:"search-bar",class:{docked:e.isSearchbarDocked},attrs:{autocomplete:"off"},on:{submit:function(t){return e.submit(t)}}},[s("div",{staticClass:"container",class:{"focus-within":e.showSuggestions}},[s("label",{staticClass:"sr-only",attrs:{for:"search"}},[e._v(e._s(e.$t("search.label")))]),s("div",{staticClass:"search-bar__input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],ref:"search",staticClass:"search-bar__input",class:{focus:e.showSuggestions},attrs:{id:"search",type:"text",name:"search",placeholder:e.$t("search.placeholder"),role:"combobox","aria-autocomplete":"both","aria-owns":"suggestions","aria-activedescendant":e.activeDescendant},domProps:{value:e.search},on:{focus:function(t){return e.toggleInputFocusState(!0)},blur:function(t){return e.toggleInputFocusState(!1)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.focusFirstSuggestion(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.closeSuggestions(t)}],input:[function(t){t.target.composing||(e.search=t.target.value)},e.getSuggestions]}}),s("button",{ref:"submit",staticClass:"search-bar__button",attrs:{type:"submit"}},[s("span",{staticClass:"search-bar__button-text"},[e._v(e._s(e.$t("search.submit")))]),s("svg",{class:"search-bar__open-more-icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z"}}),s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z"}})])])]),s("svg",{staticClass:"search-bar__open-more-icon",attrs:{"aria-hidden":"true",width:"0",height:"0",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"}},[s("defs",[s("clipPath",{attrs:{id:"open-more-top"}},[s("path",{attrs:{d:"M 0,0 A 5,5 0 0 1 5,5 V 0 Z"}})]),s("clipPath",{attrs:{id:"open-more-bottom"}},[s("path",{attrs:{d:"M 5,0 A 5,5 0 0 1 0,5 H 5 Z"}})])])]),s("button",{staticClass:"search-bar__open-more",class:{active:e.isAdvencedSearchOpen},attrs:{type:"button",title:"recherche avancée"},on:{click:e.openAdvencedSearch}},[s("span",{staticClass:"search-bar__open-more-text"},[e._v(e._s(e.$t("search.filters")))]),s("svg",{class:"search-bar__open-more-icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 01-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 01.872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 012.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 012.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 01.872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 01-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 01-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 100-5.86 2.929 2.929 0 000 5.858z"}})])])]),s("div",{ref:"suggestions",staticClass:"search-bar__suggestions suggestions",class:{show:e.showSuggestions},attrs:{id:"suggestions",role:"listbox"}},[s("div",{staticClass:"sr-only",attrs:{"aria-live":"assertive"}},[e._v(" "+e._s(e.$t("search.suggestion.number",[e.suggestionsArtists.length+e.suggestionsSongs.length]))+" ")]),e.suggestionsArtists.length>0?s("div",{staticClass:"suggestions__wrapper"},[s("span",{staticClass:"suggestions__label",attrs:{id:"suggestion_artist_label"}},[e._v(e._s(e.$t("search.suggestion.artists")))]),s("ul",{staticClass:"suggestions__list",attrs:{"aria-labelledby":"suggestion_artist_label"}},e._l(e.suggestionsArtists,(function(t,a){return s("li",{key:a,staticClass:"suggestions__item",attrs:{id:"suggestion_artist_"+a,tabindex:"-1",role:"option"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.focusSuggestion(1,t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.focusSuggestion(-1,t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectArtist(a)}],click:function(t){return e.selectArtist(a)},blur:function(t){e.isSuggestionFocused=!1}}},[s("span",{staticClass:"suggestions__name"},[e._v(" "+e._s(t.name)+" ")])])})),0)]):e._e(),e.suggestionsSongs.length>0?s("div",{staticClass:"suggestions__wrapper"},[s("span",{staticClass:"suggestions__label",attrs:{id:"suggestion_song_label"}},[e._v(e._s(e.$t("search.suggestion.songs")))]),s("ul",{staticClass:"suggestions__list",attrs:{"aria-labelledby":"suggestion_song_label"}},e._l(e.suggestionsSongs,(function(t,a){return s("li",{key:a,staticClass:"suggestions__item",attrs:{id:"suggestion_song_"+a,tabindex:"-1",role:"option"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.focusSuggestion(1,t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.focusSuggestion(-1,t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.selectSong(a)}],blur:function(t){e.isSuggestionFocused=!1},click:function(t){return e.selectSong(a)}}},[s("span",{staticClass:"suggestions__name"},[e._v(" "+e._s(t.name)+" ")]),s("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("search.suggestion.songArtistLink")))]),s("span",{staticClass:"suggestions__subname"},[e._v(" "+e._s(t.artist)+" ")])])})),0)]):e._e()])]),e.isAdvencedSearchOpen?s("form",{staticClass:"search-bar__advenced",on:{submit:e.submit}},[s("button",{staticClass:"search-bar__close",attrs:{type:"button"},on:{click:e.closeAdvencedSearch}},[s("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("search.advenced.close")))])]),s("div",{staticClass:"search-bar__row search-bar__sm-col"},[s("div",{staticClass:"search-bar__col-left"},[s("div",{staticClass:"search-bar__row"},[s("div",{staticClass:"search-bar__group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.odlc,expression:"odlc"}],staticClass:"search-bar__checkbox",attrs:{id:"odlc",type:"checkbox"},domProps:{checked:Array.isArray(e.odlc)?e._i(e.odlc,null)>-1:e.odlc},on:{change:function(t){var s=e.odlc,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);a.checked?i<0&&(e.odlc=s.concat([r])):i>-1&&(e.odlc=s.slice(0,i).concat(s.slice(i+1)))}else e.odlc=n}}}),s("label",{staticClass:"search-bar__label",attrs:{for:"odlc"}},[e._v(e._s(e.$t("search.advenced.dlc.official")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.cdlc,expression:"cdlc"}],staticClass:"search-bar__checkbox",attrs:{id:"cdlc",type:"checkbox"},domProps:{checked:Array.isArray(e.cdlc)?e._i(e.cdlc,null)>-1:e.cdlc},on:{change:function(t){var s=e.cdlc,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);a.checked?i<0&&(e.cdlc=s.concat([r])):i>-1&&(e.cdlc=s.slice(0,i).concat(s.slice(i+1)))}else e.cdlc=n}}}),s("label",{staticClass:"search-bar__label",attrs:{for:"cdlc"}},[e._v(e._s(e.$t("search.advenced.dlc.cdlc")))])]),s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{placement: 'right'}"}],staticClass:"search-bar__nob",attrs:{"data-tippy-content":e.$t("search.advenced.dlc.help")}})]),s("div",{staticClass:"search-bar__row"},[s("div",{staticClass:"search-bar__group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.showlights,expression:"showlights"}],staticClass:"search-bar__checkbox",attrs:{id:"showlights",type:"checkbox"},domProps:{checked:Array.isArray(e.showlights)?e._i(e.showlights,null)>-1:e.showlights},on:{change:function(t){var s=e.showlights,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);a.checked?i<0&&(e.showlights=s.concat([r])):i>-1&&(e.showlights=s.slice(0,i).concat(s.slice(i+1)))}else e.showlights=n}}}),s("label",{staticClass:"search-bar__label",attrs:{for:"showlights"}},[e._v(e._s(e.$t("search.advenced.light.button")))])]),s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{placement: 'right'}"}],staticClass:"search-bar__nob",attrs:{"data-tippy-content":e.$t("search.advenced.light.help")}})]),s("div",{staticClass:"search-bar__row"},[s("div",{staticClass:"search-bar__group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.vocals,expression:"vocals"}],staticClass:"search-bar__checkbox",attrs:{id:"vocals",type:"checkbox"},domProps:{checked:Array.isArray(e.vocals)?e._i(e.vocals,null)>-1:e.vocals},on:{change:function(t){var s=e.vocals,a=t.target,n=!!a.checked;if(Array.isArray(s)){var r=null,i=e._i(s,r);a.checked?i<0&&(e.vocals=s.concat([r])):i>-1&&(e.vocals=s.slice(0,i).concat(s.slice(i+1)))}else e.vocals=n}}}),s("label",{staticClass:"search-bar__label",attrs:{for:"vocals"}},[e._v(e._s(e.$t("search.advenced.lirics.button")))])]),s("div",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"right"},expression:"{placement: 'right'}"}],staticClass:"search-bar__nob",attrs:{"data-tippy-content":e.$t("search.advenced.lirics.help")}})])]),s("ArrangementsFilter",{staticClass:"search-bar__col-right"})],1),s("div",{staticClass:"search-bar__btn-group"},[s("button",{staticClass:"search-bar__reset search-bar__btn",attrs:{type:"reset"},on:{click:e.resetForm}},[e._v(" "+e._s(e.$t("search.advenced.reset"))+" ")]),s("button",{staticClass:"search-bar__submit search-bar__btn search-bar__btn--with-icon",attrs:{type:"submit"}},[e._v(" "+e._s(e.$t("search.advenced.submit"))+" "),s("svg",{class:"search-bar__btn-icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M10.442 10.442a1 1 0 011.415 0l3.85 3.85a1 1 0 01-1.414 1.415l-3.85-3.85a1 1 0 010-1.415z"}}),s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M6.5 12a5.5 5.5 0 100-11 5.5 5.5 0 000 11zM13 6.5a6.5 6.5 0 11-13 0 6.5 6.5 0 0113 0z"}})])])])]):e._e(),s("OrderWidget",{model:{value:e.orderBy,callback:function(t){e.orderBy=t},expression:"orderBy"}})],1)},H=[],U=(s("99af"),s("b0c0"),s("ac1f"),s("841c"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"order-widget"},[s("p",{staticClass:"sr-only"},[e._v(" "+e._s(e.$t("order.by"))+" ")]),e._l(e.orderBy,(function(t,a){return s("button",{key:a,staticClass:"order-widget__btn",class:t.direction,attrs:{id:a},on:{click:function(t){return e.cycleOrderBy(a)}}},[e._v(" "+e._s(e.$t("order.values."+t.name))+" "),""!==e.orderBy.direction?s("span",{staticClass:"order-widget__direction sr-only",class:t.direction},[e._v(e._s(t.direction))]):e._e(),s("svg",{class:"order-widget__arrow",attrs:{viewBox:"0 0 16 9.5",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{staticClass:"a",attrs:{d:"M1.5 1.5L8 8l6.5-6.5",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}})])])}))],2)}),W=[],K={name:"OrderWidget",props:{value:{type:Array,default:function(){return[]},required:!1}},data:function(){return{orderBy:[]}},watch:{value:function(e){this.orderBy=e}},mounted:function(){this.orderBy=this.value},methods:{cycleOrderBy:function(e){switch(this.orderBy[e].direction){case"":this.orderBy[e].direction="ASC",this.orderBy[e].weight=this.orderBy.length-1;break;case"ASC":this.orderBy[e].direction="DESC",this.orderBy[e].weight=this.orderBy.length-1;break;case"DESC":this.orderBy[e].direction="",this.orderBy[e].weight=0;break;default:break}for(var t=0;t<this.orderBy.length;t++)if(t!==e){var s=this.orderBy[t].weight;this.orderBy[t].weight=s>0?s-1:0}this.$emit("input",this.orderBy)}}},J=K,Y=(s("c583"),Object(d["a"])(J,U,W,!1,null,null,null)),Q=Y.exports,Z=s("5935"),X=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"arrangements-filter"},[s("p",{staticClass:"search-bar__label"},[e._v(" "+e._s(e.$t("search.advenced.arrangement.label"))+" ")]),e._l(e.arrangementsFilter,(function(t,a){return s("div",{key:a,staticClass:"search-bar__radio_group"},[s("input",{staticClass:"search-bar__radio",attrs:{id:"arrangement-"+a,type:"checkbox"},domProps:{value:e.arrangementsFilter[a]},on:{change:function(t){return e.onChange(a,t)}}}),s("label",{staticClass:"search-bar__label",attrs:{for:"arrangement-"+a}},[e._v(" "+e._s(e.$t("search.advenced.arrangement."+a))+" ")])])}))],2)},ee=[],te={name:"ArrangementsFilter",data:function(){return{filter:{}}},computed:{arrangementsFilter:{get:function(){return this.$store.state.searchSettings.arrangements},set:function(e){this.$store.commit("SET_ARRANGEMENTS_FILTER",e)}}},methods:{onChange:function(e,t){this.$store.commit("SET_ARRANGEMENTS_FILTER_KEY",{key:e,value:t.target.checked})}}},se=te,ae=Object(d["a"])(se,X,ee,!1,null,null,null),ne=ae.exports,re=s("b012"),ie=s.n(re),oe={name:"SearchBar",components:{Fragment:D["a"],OrderWidget:Q,ArrangementsFilter:ne},data:function(){var e=this;return{isSearchbarDocked:!1,isAdvencedSearchOpen:!1,lastInterpretationMin:0,lastInterpretationMax:100,interpretationNumberMin:0,interpretationNumberMax:100,scoreMin:0,scoreMax:100,isInputFocused:!1,isSuggestionFocused:!1,dbGetSuggestions:ie()((function(){return e.$store.dispatch("getSuggestions")}),100),activeDescendant:"",hideSuggestions:!1}},computed:Object(i["a"])(Object(i["a"])({showSuggestions:function(){return(this.isInputFocused||this.isSuggestionFocused)&&this.search.length>3&&(this.suggestionsSongs.length>0||this.suggestionsArtists.length>0)&&!this.hideSuggestions},orderBy:{get:function(){return this.$store.getters.getOrderBy},set:function(e){this.$store.commit("SET_ORDER_BY",e),this.refreshList()}}},Object(Z["b"])(["searchSettings.search","searchSettings.lastInterpretation","searchSettings.interpretationNumber","searchSettings.score","searchSettings.showlights","searchSettings.vocals","searchSettings.odlc","searchSettings.cdlc"])),Object(q["c"])(["suggestionsSongs","suggestionsArtists"])),watch:{odlc:function(e){this.cdlc=!e&&this.cdlc},cdlc:function(e){this.odlc=!e&&this.odlc},isSearchbarDocked:function(e){this.$emit("docked",e)}},mounted:function(){var e=this,t={rootMargin:"-48px 0px 10000px 0px",threshold:1},s=new IntersectionObserver((function(t){t.forEach((function(t){e.isSearchbarDocked=!t.isIntersecting}))}),t);s.observe(this.$refs.searchBar),document.addEventListener("click",(function(t){e.isSuggestionFocused=!!t.composedPath().includes(e.$refs.suggestions)&&e.isSuggestionFocused})),document.addEventListener("keyup",(function(t){70===t.which&&t.ctrlKey&&t.shiftKey&&e.$refs.search.focus()}))},methods:{submit:function(e){var t=this;e&&e.preventDefault(),this.$store.dispatch("getSearch"),this.isSearchbarDocked&&(this.isSearchbarDocked=!1,this.$nextTick().then((function(){t.$refs.searchBar.scrollIntoView(),document.getElementsByTagName("HTML")[0].scrollBy({top:-100,left:0,behavior:"smooth"})})))},openAdvencedSearch:function(){var e=this;this.isSearchbarDocked?(this.isAdvencedSearchOpen=!0,this.isSearchbarDocked=!1,this.$nextTick().then((function(){e.$refs.searchBar.scrollIntoView(),document.getElementsByTagName("HTML")[0].scrollBy({top:-100,left:0,behavior:"smooth"})}))):this.isAdvencedSearchOpen=!this.isAdvencedSearchOpen},closeAdvencedSearch:function(){this.isAdvencedSearchOpen=!1},resetForm:function(){this.$store.commit("RESET_FORM"),this.$store.commit("SET_IS_SEARCH",!1)},toggleInputFocusState:function(e){this.isInputFocused=e},focusFirstSuggestion:function(e){e.preventDefault(),this.$refs.suggestions.querySelector(".suggestions__item").focus(),this.isSuggestionFocused=!0},focusSuggestion:function(e,t){t.preventDefault();for(var s=-1,a=this.$refs.suggestions.querySelectorAll(".suggestions__item"),n=0;n<a.length;n++)if(t.target===a[n]){s=n;break}if(a.length!==s+e&&s+e>=0){var r=a[(s+e)%a.length];this.activeDescendant=r.id,r.focus(),this.isSuggestionFocused=!0}else s+e<0&&this.$refs.search.focus()},closeSuggestions:function(){this.hideSuggestions=!0},selectArtist:function(e){this.search=this.suggestionsArtists[e].name,this.$refs.submit.focus(),this.isSuggestionFocused=!1,this.submit()},selectSong:function(e){this.search="".concat(this.suggestionsSongs[e].name," - ").concat(this.suggestionsSongs[e].artist),this.$refs.submit.focus(),this.isSuggestionFocused=!1,this.submit()},refreshList:function(){this.$emit("refresh")},getSuggestions:function(){this.hideSuggestions=!1,this.search.length>3&&this.dbGetSuggestions()}}},ce=oe,le=(s("c2c9"),Object(d["a"])(ce,G,H,!1,null,null,null)),ue=le.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"root",staticClass:"music-item",class:[e.data.custom_class,{openned:e.idState.openned,closed:!e.idState.openned,hidden:e.idState.hidden}]},[s("div",{staticClass:"music-item__card",attrs:{tabindex:"0"},on:{click:e.toggleMusic,keypress:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.toggleMusic(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"space",32,t.key,[" ","Spacebar"])?null:e.toggleMusic(t)}]}},[s("div",{staticClass:"music-item__col-left"},[e.duration&&e.idState.openned?s("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],staticClass:"music-item__duration",attrs:{"data-tippy-content":e.$t("song.duration")}},[e._v(" "+e._s(e.duration)+" ")]):e._e(),s("p",{key:e.idState.openned,staticClass:"music-item__title"},[e._v(" "+e._s(e.data.name)+" ")]),s("hr",{staticClass:"music-item__hr"}),s("p",{key:e.idState.openned+"source",staticClass:"music-item__source"},[s("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("song.byArtist")))]),e._v(" "+e._s(e.source)+" ")])]),s("div",{staticClass:"music-item__col-right"},[e.data.showlights?s("svg",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","data-tippy-content":e.$t("song.showlight"),tabindex:e.idState.openned?-1:0,role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M12 8a4 4 0 11-8 0 4 4 0 018 0z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M8 0a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 0zm0 13a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 13zm8-5a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zM3 8a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2A.5.5 0 013 8zm10.657-5.657a.5.5 0 010 .707l-1.414 1.415a.5.5 0 11-.707-.708l1.414-1.414a.5.5 0 01.707 0zm-9.193 9.193a.5.5 0 010 .707L3.05 13.657a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm9.193 2.121a.5.5 0 01-.707 0l-1.414-1.414a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707zM4.464 4.465a.5.5 0 01-.707 0L2.343 3.05a.5.5 0 11.707-.707l1.414 1.414a.5.5 0 010 .708z"}})]):e._e(),e.data.vocals?s("svg",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","data-tippy-content":e.$t("song.lyrics"),tabindex:e.idState.openned?0:-1,role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M5 3a3 3 0 016 0v5a3 3 0 01-6 0V3z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M3.5 6.5A.5.5 0 014 7v1a4 4 0 008 0V7a.5.5 0 011 0v1a5 5 0 01-4.5 4.975V15h3a.5.5 0 010 1h-7a.5.5 0 010-1h3v-2.025A5 5 0 013 8V7a.5.5 0 01.5-.5z"}})]):e._e(),e.duration&&!e.idState.openned?s("span",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],staticClass:"music-item__duration",attrs:{"data-tippy-content":e.$t("song.duration")}},[e._v(" "+e._s(e.duration)+" ")]):e._e()]),s("svg",{class:"music-item__arrow",attrs:{viewBox:"0 0 16 9.5",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{staticClass:"a",attrs:{d:"M1.5 1.5L8 8l6.5-6.5",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}})])]),s("button",{ref:"quickCopyButton",staticClass:"music-item__quick-copy",class:{play:e.idState.isQuickCopyCliked},attrs:{tabindex:e.idState.openned?-1:0},on:{click:e.quickCopy}},[s("span",{staticClass:"music-item__quick-copy-text"},[s("span",[e._v(e._s(e.$t("song.quickCopy")))])]),s("svg",{attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M4 1.5H3a2 2 0 00-2 2V14a2 2 0 002 2h10a2 2 0 002-2V3.5a2 2 0 00-2-2h-1v1h1a1 1 0 011 1V14a1 1 0 01-1 1H3a1 1 0 01-1-1V3.5a1 1 0 011-1h1v-1z"}}),s("path",{attrs:{"fill-rule":"evenodd",fill:"currentColor",d:"M9.5 1h-3a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5zm-3-1A1.5 1.5 0 005 1.5v1A1.5 1.5 0 006.5 4h3A1.5 1.5 0 0011 2.5v-1A1.5 1.5 0 009.5 0h-3zM8 7a.5.5 0 01.5.5V9H10a.5.5 0 010 1H8.5v1.5a.5.5 0 01-1 0V10H6a.5.5 0 010-1h1.5V7.5A.5.5 0 018 7z"}})])]),s("input",{ref:"outputExt",staticClass:"music-item__output-ext",attrs:{tabindex:"-1","aria-hidden":"true",type:"text",readonly:""},domProps:{value:e.shallowCommand}}),s("div",{staticClass:"music-item__body-wrapper"},[s("transition",{attrs:{appear:"",name:"open"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.idState.openned,expression:"idState.openned"}],staticClass:"music-item__body"},[s("TagList",{attrs:{tags:e.data.tags,"has-showlights":e.data.showlights,"has-vocals":e.data.vocals}}),s("div",{staticClass:"music-item__scrollable"},[s("Metadata",{attrs:{meta:e.data.metadata}}),e.data.arrangements?s("ArrangementsSelector",{attrs:{list:e.data.arrangements,"song-id":e.data.id},model:{value:e.idState.selectedArrangement,callback:function(t){e.$set(e.idState,"selectedArrangement",t)},expression:"idState.selectedArrangement"}}):e._e()],1),s("Prebuild",{attrs:{"selected-arrangement":e.idState.selectedArrangement,song:e.data}})],1)])],1)])},he=[],pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("details",{ref:"localRoot",staticClass:"arrangements"},[s("summary",[s("span",{staticClass:"title"},[e._v("Arrangements")]),s("svg",{class:"icon arrow",attrs:{viewBox:"0 0 16 9.5",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{staticClass:"a",attrs:{d:"M1.5 1.5L8 8l6.5-6.5",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}})])]),s("ul",e._l(e.list,(function(t,a){return s("li",{key:a,staticClass:"radio__group meta"},[s("input",{staticClass:"radio",attrs:{id:"arrangement-"+e.songId+"-"+a,name:"arrangement-"+e.songId,type:"radio"},domProps:{checked:t.type===e.value.type,value:t.type},on:{change:function(t){return e.select(a)}}}),s("label",{staticClass:"radio__label",attrs:{for:"arrangement-"+e.songId+"-"+a}},[s("span",{staticClass:"key"},[e._v(e._s(t.name))]),s("span",{staticClass:"value"},[s("span",{staticClass:"sr-only"},[e._v(e._s(e.$t("song.arrangements.tunning")))]),e._v(" "+e._s(e.i18nFallback("song.arrangements",t.tuning))+" ")])])])})),0)])},ge=[],me=(s("fb6a"),s("5319"),{methods:{uuid:function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}()},i18nFallback:function(e,t){if(t){var s="".concat(e,".").concat(t),a=this.$t(s);return a!==s?a:t}return""},calcColor:function(e){function t(e){var t="";e.includes("#")&&(t="#",e=e.substring(1,7));var a=e.slice(0,2),n=e.slice(2,4),r=e.slice(4,6);return e=s(a)+s(n)+s(r),t+e}function s(e){var t=parseInt(e,16);return t=255-t,t=t.toString(16),t}function a(e){var t="";return e.includes("#")&&(t="#",e=e.substring(1,7)),e=(parseInt(e.slice(0,2),16)+parseInt(e.slice(2,4),16)+parseInt(e.slice(4,6),16))/3>127?"ffffff":"000000",t+e}return a(t(e))}}}),fe=me,ve={name:"ArrangementsSelector",mixins:[fe],props:{list:{type:Array,required:!1,default:function(){return[]}},value:{type:Object,required:!1,default:function(){return{}}},songId:{type:String,required:!0}},mounted:function(){1===this.list.length&&this.select(0)},methods:{select:function(e){this.$emit("input",this.list[e])}}},be=ve,_e=(s("a391"),Object(d["a"])(be,pe,ge,!1,null,null,null)),ye=_e.exports,we=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"prebuild"},[s("div",{staticClass:"btn-group modifier"},[s("button",{staticClass:"btn small dull with-icon",attrs:{"aria-live":"assertive"},on:{click:e.toggleVip}},[e.vip?s("svg",{attrs:{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M.245 5.997l6.92 8.553L4.42 5.997zM5.47 5.995l5.062-.005L8 14.507 5.47 5.995M2.94 1.412L.251 4.996h3.847c-.78-2.422-.633-1.954-1.16-3.584zM13.064 1.404l2.688 3.584h-3.848c.78-2.422.633-1.954 1.16-3.584zM3.865 1l1.283 3.994.002-.006h5.703L12.135 1h-8.27zM15.756 5.989l-6.92 8.553 2.746-8.553z"}})]):s("svg",{staticClass:"bi bi-gem",class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M3.1.7a.5.5 0 01.4-.2h9a.5.5 0 01.4.2l2.976 3.974c.149.185.156.45.01.644L8.4 15.3a.5.5 0 01-.8 0L.1 5.3a.5.5 0 010-.6l3-4zm11.386 3.785l-1.806-2.41-.776 2.413 2.582-.003zm-3.633.004l.961-2.989H4.186l.963 2.995 5.704-.006zM5.47 5.495l5.062-.005L8 13.366 5.47 5.495zm-1.371-.999l-.78-2.422-1.818 2.425 2.598-.003zM1.499 5.5l2.92-.003 2.193 6.82L1.5 5.5zm7.889 6.817l2.194-6.828 2.929-.003-5.123 6.831z"}})]),e._v(" "+e._s(e.vipToggleTitle)+" ")]),s("button",{staticClass:"btn small dull with-icon",attrs:{"aria-live":"assertive"},on:{click:e.toggleEdit}},[e.edit?s("svg",{class:"icon",attrs:{width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M2.537 1a1.53 1.53 0 00-1.533 1.533v10.934c0 .85.684 1.533 1.533 1.533h10.934a1.53 1.53 0 001.533-1.533V4.84c-2.35 2.36-4.59 4.63-7.214 7.217l-.008.008c-.188.184-.42.324-.67.404l-2.4.803-.01.004a1.48 1.48 0 01-1.473-.358 1.479 1.479 0 01-.346-1.474v-.002l.805-2.414c.083-.248.225-.478.41-.662L11.461 1z"}}),s("path",{attrs:{d:"M15.506 1.94a.5.5 0 010 .706L14.463 3.69l-2-2L13.506.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.943 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"}})]):s("svg",{class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{d:"M15.502 1.94a.5.5 0 010 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 01.707 0l1.293 1.293zm-1.75 2.456l-2-2L4.939 9.21a.5.5 0 00-.121.196l-.805 2.414a.25.25 0 00.316.316l2.414-.805a.5.5 0 00.196-.12l6.813-6.814z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 002.5 15h11a1.5 1.5 0 001.5-1.5v-6a.5.5 0 00-1 0v6a.5.5 0 01-.5.5h-11a.5.5 0 01-.5-.5v-11a.5.5 0 01.5-.5H9a.5.5 0 000-1H2.5A1.5 1.5 0 001 2.5v11z"}})]),e._v(" "+e._s(e.editToggleTitle)+" ")])]),s("label",{staticClass:"sr-only",attrs:{for:e.song.id+"output"}},[e._v(e._s(e.$t("song.prebuild.output")))]),s("input",{ref:"output",staticClass:"output",attrs:{id:e.song.id+"output",type:"text",readonly:"readonly"},domProps:{value:e.command}}),s("div",{staticClass:"btn-group copy"},[s("button",{ref:"copyButton",staticClass:"btn small dull with-icon",on:{click:e.copy}},[s("svg",{class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","aria-hidden":"true",role:"presentation",focusable:"false",tabindex:"-1"}},[s("path",{attrs:{"fill-rule":"evenodd",d:"M4 1.5H3a2 2 0 00-2 2V14a2 2 0 002 2h10a2 2 0 002-2V3.5a2 2 0 00-2-2h-1v1h1a1 1 0 011 1V14a1 1 0 01-1 1H3a1 1 0 01-1-1V3.5a1 1 0 011-1h1v-1z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M9.5 1h-3a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5zm-3-1A1.5 1.5 0 005 1.5v1A1.5 1.5 0 006.5 4h3A1.5 1.5 0 0011 2.5v-1A1.5 1.5 0 009.5 0h-3zM8 7a.5.5 0 01.5.5V9H10a.5.5 0 010 1H8.5v1.5a.5.5 0 01-1 0V10H6a.5.5 0 010-1h1.5V7.5A.5.5 0 018 7z"}})]),e._v(" "+e._s(e.$t("song.prebuild.copy.label"))+" ")])])])},Se=[],ke={name:"Prebuild",props:{selectedArrangement:{type:Object,required:!0},song:{type:Object,required:!0}},data:function(){return{vip:!1,edit:!1}},computed:{command:function(){var e;return e=this.vip?this.edit?"vipedit":"vip":this.edit?"edit":"sr","!".concat(e," ").concat(this.song.name," - ").concat(this.song.artist," ").concat(this.selectedArrangement.type?"*".concat(this.selectedArrangement.type):"")},vipToggleTitle:function(){return this.vip?this.$t("song.prebuild.vip.label"):this.$t("song.prebuild.regular.label")},editToggleTitle:function(){return this.edit?this.$t("song.prebuild.edit.label"):this.$t("song.prebuild.request.label")}},methods:{toggleVip:function(){this.vip=!this.vip},toggleEdit:function(){this.edit=!this.edit},copy:function(){var e=this;this.$refs.output.select(),document.execCommand("copy"),this.$nextTick().then((function(){e.$refs.copyButton.focus()}))}}},Ce=ke,xe=(s("0cb2e"),Object(d["a"])(Ce,we,Se,!1,null,null,null)),Oe=xe.exports,Ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s(e.rootComponent,{tag:"component",staticClass:"meta"},[e.haveMeta?e._l(e.meta,(function(t,a){return s("li",{key:a,staticClass:"meta__item"},[s("span",{staticClass:"meta__key"},[e._v(" "+e._s(a)+" ")]),s("span",{staticClass:"meta__value"},[e._v(" "+e._s(t)+" ")])])})):s("div",{staticClass:"meta__no-info"},[e._v(" "+e._s(e.$t("song.noMeta"))+" ")])],2)},Ee=[],Me={name:"Metadata",props:{meta:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{}},computed:{haveMeta:function(){return Object.keys(this.meta).length>0},rootComponent:function(){return this.haveMeta?"ul":"div"}},methods:{}},$e=Me,Te=(s("4e52"),Object(d["a"])($e,Ae,Ee,!1,null,"9ecdf3fa",null)),Le=Te.exports,Be=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.hasTags||e.hasShowlights||e.hasVocals?s("div",{staticClass:"wrapper"},[e.hasTags?s("ul",{staticClass:"tag-list"},e._l(e.tags,(function(t){return s("li",{key:t.id,staticClass:"tag",style:{"background-color":"#"+t.color,color:"#"+e.calcColor(t.color)}},[e._v(" "+e._s(e.i18nFallback("song.tags",t.name))+" ")])})),0):e._e(),e.hasShowlights?s("svg",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","data-tippy-content":e.$t("song.showlight"),tabindex:"0",role:"presentation",focusable:"false"}},[s("path",{attrs:{d:"M12 8a4 4 0 11-8 0 4 4 0 018 0z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M8 0a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 0zm0 13a.5.5 0 01.5.5v2a.5.5 0 01-1 0v-2A.5.5 0 018 13zm8-5a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2a.5.5 0 01.5.5zM3 8a.5.5 0 01-.5.5h-2a.5.5 0 010-1h2A.5.5 0 013 8zm10.657-5.657a.5.5 0 010 .707l-1.414 1.415a.5.5 0 11-.707-.708l1.414-1.414a.5.5 0 01.707 0zm-9.193 9.193a.5.5 0 010 .707L3.05 13.657a.5.5 0 01-.707-.707l1.414-1.414a.5.5 0 01.707 0zm9.193 2.121a.5.5 0 01-.707 0l-1.414-1.414a.5.5 0 01.707-.707l1.414 1.414a.5.5 0 010 .707zM4.464 4.465a.5.5 0 01-.707 0L2.343 3.05a.5.5 0 11.707-.707l1.414 1.414a.5.5 0 010 .708z"}})]):e._e(),e.hasVocals?s("svg",{directives:[{name:"tippy",rawName:"v-tippy",value:{placement:"bottom"},expression:"{placement: 'bottom'}"}],class:"icon",attrs:{width:"1em",height:"1em",viewBox:"0 0 16 16",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg","svg-inline":"","data-tippy-content":e.$t("song.lyrics"),tabindex:"0",role:"presentation",focusable:"false"}},[s("path",{attrs:{d:"M5 3a3 3 0 016 0v5a3 3 0 01-6 0V3z"}}),s("path",{attrs:{"fill-rule":"evenodd",d:"M3.5 6.5A.5.5 0 014 7v1a4 4 0 008 0V7a.5.5 0 011 0v1a5 5 0 01-4.5 4.975V15h3a.5.5 0 010 1h-7a.5.5 0 010-1h3v-2.025A5 5 0 013 8V7a.5.5 0 01.5-.5z"}})]):e._e()]):e._e()},je=[],Ie={name:"TagList",mixins:[fe],props:{tags:{type:Array,required:!1,default:function(){return[]}},hasShowlights:{type:Boolean,required:!1,default:!1},hasVocals:{type:Boolean,required:!1,default:!1}},computed:{hasTags:function(){return this.tags.length>0}}},Re=Ie,Pe=(s("8c28"),Object(d["a"])(Re,Be,je,!1,null,"01e615e2",null)),qe=Pe.exports,De=s("e508"),Ne={name:"MusicItem",components:{ArrangementsSelector:ye,Prebuild:Oe,Metadata:Le,TagList:qe},mixins:[Object(De["c"])({idProp:function(e){return e.data.id}}),fe],props:{data:{type:Object,required:!0}},idState:function(){return{openned:!1,vip:!1,edit:!1,isQuickCopyCliked:!1,selectedArrangement:Object(),hidden:!0}},computed:{haveTags:function(){return"undefined"!==typeof this.data.tags&&this.data.tags.length>0},duration:function(){var e;return e=0!==this.data.length&&new Date(1e3*this.data.length).toISOString().substr(14,5),e},source:function(){return"".concat(this.data.artist||"").concat(this.data.artist&&this.data.album?" - ":"").concat(this.data.album||"")},showMeta:function(){return"undefined"!==typeof this.data.metadata&&0!==Object.keys(this.data.metadata).length},shallowCommand:function(){return"!sr ".concat(this.data.name," - ").concat(this.data.artist)}},mounted:function(){var e=this,t={rootMargin:"0px 0px 0px 0px",threshold:1},s=new IntersectionObserver((function(s){s.forEach((function(t){t.isIntersecting?(e.idState.hidden=!1,e.$refs.root.contains(document.activeElement)&&document.activeElement.blur()):e.idState.hidden=!0}),t)}));s.observe(this.$refs.root)},methods:{toggleMusic:function(e){e&&e.preventDefault(),this.idState.openned=!this.idState.openned,this.$emit("open",this.idState.openned)},quickCopy:function(e){var t=this;this.$refs.outputExt.select(),document.execCommand("copy"),0!==e.offsetX&&0!==e.offsetY&&(this.$refs.quickCopyButton.style.setProperty("--mouse-x","".concat(e.offsetX,"px")),this.$refs.quickCopyButton.style.setProperty("--mouse-y","".concat(e.offsetY,"px"))),this.idState.isQuickCopyCliked=!0,this.$nextTick().then((function(){t.$refs.quickCopyButton.focus(),t.$refs.quickCopyButton.blur()})),setTimeout((function(){t.idState.isQuickCopyCliked=!1,t.$refs.quickCopyButton.style.setProperty("--mouse-x","50%"),t.$refs.quickCopyButton.style.setProperty("--mouse-y","50%")}),500)}}},ze=Ne,Fe=(s("907b"),Object(d["a"])(ze,de,he,!1,null,null,null)),Ve=Fe.exports,Ge=(s("a899"),{name:"App",components:{WelcomeScreen:p,TopBar:B,RulesPage:V,MusicItem:Ve,DynamicScroller:De["a"],DynamicScrollerItem:De["b"],SearchBar:ue},data:function(){var e=this;return{isSearchBarDocked:!1,isWelcomeScreenVisible:!0,dbRefreshList:ie()((function(){return e.$store.dispatch("refreshList")}),300)}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(q["c"])({songList:"songs",error:"apiError",isLoading:"isLoading",isLastPage:"isLastPage"})),Object(q["b"])(["isDarkModeOn","getPage"])),{},{showRules:function(){return!this.isWelcomeScreenVisible}}),watch:{isDarkModeOn:function(){document.getElementsByTagName("html")[0].classList.toggle("dark",this.isDarkModeOn)}},mounted:function(){var e=this;document.getElementsByTagName("html")[0].classList.toggle("dark",this.isDarkModeOn),document.documentElement.scroll({top:0}),document.documentElement.lang=this.$i18n.locale,this.$store.dispatch("getSongList").catch((function(e){console.error(e)}));var t=ie()((function(){return e.getMoreSongs()}),100,!0),s={rootMargin:"0px 0px 1000px 0px",threshold:1},a=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&t()}))}),s);a.observe(this.$refs.bottom)},methods:{getMoreSongs:function(){this.$store.dispatch("getMoreSongs").catch((function(e){console.error(e)}))},open:function(e){this.$store.commit("ACTIVATE_ITEM",e)},refreshList:function(){this.dbRefreshList()},onWelcomeScreenVisiblityChange:function(e){this.isWelcomeScreenVisible=e}}}),He=Ge,Ue=(s("5c0b"),Object(d["a"])(He,n,r,!1,null,null,null)),We=Ue.exports,Ke=s("2909");function Je(){return{songs:[],page:0,percist:{darkMode:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,orderBy:[{name:"name",direction:"",weight:0},{name:"album",direction:"",weight:0},{name:"artist",direction:"",weight:0},{name:"update_date",direction:"",weight:0}],lastAcceptedRuleVersion:0},searchSettings:{search:"",lastInterpretation:[0,100],interpretationNumber:[0,100],score:[0,100],arrangements:{rhythm:!1,lead:!1,bass:!1},showlights:!1,vocals:!1,odlc:!1,cdlc:!1},orderByRandomSeed:Date.now(),apiError:void 0,isLoading:!1,isLastPage:!1,suggestionsSongs:[],suggestionsArtists:[]}}var Ye=Je(),Qe=Ye,Ze=(s("45fc"),s("4fad"),s("53ca"));function Xe(e,t,s,a){a=Object(i["a"])(Object(i["a"])({},{module:"background: #583A94; color:#fff; border-radius:3px 0 0 3px",tag:"background: lightblue; color:#404040; border-radius:0 3px 3px 0",message:"background: none"}),a),console.log("%c ".concat(e," %c ").concat(t," %c   ").concat(s),a.module,a.tag,a.message)}function et(e,t){try{var s=!1,a=Object.entries(e);return a.length===Object.entries(t).length&&(a.some((function(a){var n=a[0];return s="object"===Object(Ze["a"])(t[n])?et(t[n],e[n]):t[n]===e[n],!s})),s)}catch(n){throw Xe("setlist","helpers",n),new Error(n)}}function tt(e,t){try{var s=[],a=Object.entries(e);return a.forEach((function(a){var n=!1,r=a[0];n="object"===Object(Ze["a"])(t[r])?!et(t[r],e[r]):t[r]!==e[r],n&&s.push(r)})),s}catch(n){throw Xe("setlist","helpers",n),new Error(n)}}var st={SET_DARK_MODE:function(e,t){e.percist.darkMode=t},SET_ORDER_BY:function(e,t){e.percist.orderBy=t},ADD_SONGS_TO_LIST:function(e,t){e.songs=[].concat(Object(Ke["a"])(e.songs),Object(Ke["a"])(t))},SET_SONG_LIST:function(e,t){e.songs=t},SET_SUGGESTIONS:function(e,t){e.suggestionsSongs=t.song,e.suggestionsArtists=t.artist},SET_PAGE:function(e,t){e.page=t},INCREMENT_PAGE:function(e){e.page+=1},ACTIVATE_ITEM:function(e,t){e.songs[t].open=!0,setTimeout((function(){e.songs[t].open=!1}),500)},SET_ARRANGEMENTS_FILTER:function(e,t){e.searchSettings.arrangements=t},SET_ARRANGEMENTS_FILTER_KEY:function(e,t){var s=t.key,n=t.value;a["default"].set(e.searchSettings.arrangements,s,n)},RESET_FORM:function(e){var t=Object(i["a"])({},Je().searchSettings);delete t.search,e.searchSettings=t,e.searchSettings.arrangements=t.arrangements},SET_API_ERROR:function(e,t){e.apiError=t},SET_LOADING:function(e,t){e.isLoading=t},SET_LAST_PAGE:function(e,t){e.isLastPage=t},SET_LAST_ACCEPTED_RULE_VERSION:function(e,t){e.percist.lastAcceptedRuleVersion=t},RELOAD_FROM_LOCALSTORAGE:function(e){var t=JSON.parse(localStorage.getItem("percistantStorage"));e.percist=Object(i["a"])(Object(i["a"])({},Je().percist),t)||Je().percist,Xe("setlist","store","Realoaded percistent state")},updateField:Z["c"]},at=st,nt=(s("a9e3"),s("96cf"),s("1da1")),rt=s("d2e1");function it(){return new Promise((function(e,t){it.cachedClient?e(it.cachedClient):new rt["a"]("https://api.warths.fr/api/v1/openapi.json").then((function(t){it.cachedClient=t,e(t)})).catch((function(e){return t(e)}))}))}var ot={getSongList:function(e){return Object(nt["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.getters,t.prev=1,s("SET_LOADING",!0),s("SET_LAST_PAGE",!1),Xe("setlist","API","Loading songs"),t.next=7,it();case 7:if(n=t.sent,!a.isSearch){t.next=14;break}return t.next=11,n.apis.public.search_get(Object(i["a"])({limit:"50",orderby:a.getOrderByAsText},a.getSearchParams));case 11:r=t.sent,t.next=17;break;case 14:return t.next=16,n.apis.public.songs_get(Object(i["a"])({limit:"50"},a.getOrderByOrSeed));case 16:r=t.sent;case 17:s("SET_SONG_LIST",r.obj.data),r.obj.data.length<Number("50")&&s("SET_LAST_PAGE",!0),s("INCREMENT_PAGE"),s("SET_API_ERROR",void 0),s("SET_LOADING",!1),t.next=29;break;case 24:t.prev=24,t.t0=t["catch"](1),s("SET_API_ERROR",t.t0),s("SET_LOADING",!1),console.error(t.t0);case 29:case"end":return t.stop()}}),t,null,[[1,24]])})))()},getMoreSongs:function(e){return Object(nt["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=e.commit,a=e.getters,t.prev=1,a.isLastPage){t.next=27;break}if(!(a.getPage>0)){t.next=24;break}return s("SET_LOADING",!0),Xe("setlist","API","Loading more songs"),t.next=8,it();case 8:if(n=t.sent,!a.isSearch){t.next=15;break}return t.next=12,n.apis.public.search_get(Object(i["a"])({limit:"50",padding:"50"*a.getPage,orderby:a.getOrderByAsText},a.getSearchParams));case 12:r=t.sent,t.next=18;break;case 15:return t.next=17,n.apis.public.songs_get(Object(i["a"])({limit:"50",padding:"50"*a.getPage},a.getOrderByOrSeed));case 17:r=t.sent;case 18:s("ADD_SONGS_TO_LIST",r.obj.data),r.obj.data.length<Number("50")&&s("SET_LAST_PAGE",!0),s("INCREMENT_PAGE"),s("SET_LOADING",!1),t.next=25;break;case 24:Xe("setlist","API","First page of song not yet loaded, abord loading more songs");case 25:t.next=28;break;case 27:Xe("setlist","API","End of list reached, abort loading more songs");case 28:t.next=35;break;case 30:t.prev=30,t.t0=t["catch"](1),console.error(t.t0),s("SET_API_ERROR",t.t0),s("SET_LOADING",!1);case 35:case"end":return t.stop()}}),t,null,[[1,30]])})))()},refreshList:function(e){return Object(nt["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.commit,a=e.dispatch;try{Xe("setlist","API","Realoading list"),s("SET_PAGE",0),s("SET_SONG_LIST",[]),a("getSongList")}catch(n){console.error(n)}case 2:case"end":return t.stop()}}),t)})))()},getSearch:function(e){return Object(nt["a"])(regeneratorRuntime.mark((function t(){var s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s=e.commit,a=e.dispatch;try{Xe("setlist","API","Begining search"),s("SET_PAGE",0),s("SET_SONG_LIST",[]),a("getSongList")}catch(n){console.error(n)}case 2:case"end":return t.stop()}}),t)})))()},getSuggestions:function(e){return Object(nt["a"])(regeneratorRuntime.mark((function t(){var s,a,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,a=e.getters,t.prev=1,Xe("setlist","API","Get suggestions"),t.next=5,it();case 5:return n=t.sent,t.next=8,n.apis.public.search_suggestion_get(Object(i["a"])({limit:"50"},a.getSearchParams));case 8:r=t.sent,s("SET_SUGGESTIONS",r.obj.data),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[1,12]])})))()}},ct=ot,lt={getPage:function(e){return e.page},isDarkModeOn:function(e){return e.percist.darkMode},getOrderByAsText:function(e){var t="",s=Object(Ke["a"])(e.percist.orderBy);return s.sort((function(e,t){return e.weight-t.weight})).reverse(),s.forEach((function(e){if(""!==e.direction){var s="";"DESC"===e.direction&&(s="-"),t+=",".concat(s).concat(e.name)}})),t.length>0?t.slice(1):""},getOrderBy:function(e){return e.percist.orderBy},getSeed:function(e){return e.orderByRandomSeed},getOrderByOrSeed:function(e,t){return""===t.getOrderByAsText?{seed:t.getSeed}:{orderby:t.getOrderByAsText}},getSearchParams:function(e){var t=tt(e.searchSettings,Je().searchSettings),s={},a=[];return t.forEach((function(t){switch(t){case"cdlc":s["odlc"]=!1;break;case"odlc":s["odlc"]=!0;break;case"arrangements":Object.entries(e.searchSettings.arrangements).forEach((function(e){e[1]&&a.push(e[0])})),s["arrangements"]=a;break;default:s[t]=e.searchSettings[t];break}})),s},isSearch:function(e){return!et(Je().searchSettings,e.searchSettings)},isLastPage:function(e){return e.isLastPage},getField:Z["a"]},ut=lt;a["default"].use(q["a"]);var dt=new q["a"].Store({state:Qe,mutations:at,actions:ct,getters:ut}),ht=(s("466d"),s("1276"),s("498a"),s("ddb0"),s("a925"));function pt(){var e=s("a35b"),t={};return e.keys().forEach((function(s){var a=s.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var n=a[1];t[n]=e(s)}})),t}function gt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={countryCodeOnly:!1},s=Object(i["a"])(Object(i["a"])({},t),e),a=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(a){var n=s.countryCodeOnly?a.trim().split(/-|_/)[0]:a.trim();return n}}function mt(){return localStorage.getItem("langLocal")||""}function ft(){var e=gt({countryCodeOnly:!0}),t=mt();return""!==t&&_(t)?t:_(e)?e:"fr"}a["default"].use(ht["a"]);var vt=new ht["a"]({locale:ft(),fallbackLocale:"fr",messages:pt(),silentTranslationWarn:!0}),bt=s("6f9a"),_t=(s("e748"),s("84b6"),s("52df"),{plugins:[bt["a"]],animateFill:!0,arrow:!1}),yt={install:function(e,t){bt["b"].setDefaultProps(Object(i["a"])({},t)),e.prototype.$tippy=function(e,t){Object(bt["b"])(e,Object(i["a"])(Object(i["a"])({},_t),t))},e.directive("tippy",{inserted:function(e,t){Object(bt["b"])(e,Object(i["a"])(Object(i["a"])({},_t),t.value))}})}},wt=yt,St=s("2b88"),kt=s.n(St),Ct=s("5886");s("4413");a["default"].config.productionTip=!1,dt.commit("RELOAD_FROM_LOCALSTORAGE"),dt.subscribe((function(e,t){try{localStorage.setItem("percistantStorage",JSON.stringify(t.percist))}catch(s){console.log(s)}})),a["default"].use(wt),a["default"].use(kt.a),a["default"].use(Ct["a"]),a["default"].config.devtools=!0,new a["default"]({mixins:[fe],render:function(e){return e(We)},i18n:vt,store:dt}).$mount("#app")},"5c0b":function(e,t,s){"use strict";s("270b")},7632:function(e,t,s){},7891:function(e,t,s){},"7e75":function(e,t,s){},8284:function(e,t,s){},"82b0":function(e,t,s){"use strict";s("402b")},8866:function(e,t,s){},"8c28":function(e,t,s){"use strict";s("8284")},"907b":function(e,t,s){"use strict";s("356c")},a35b:function(e,t,s){var a={"./en.json":"e312","./fr.json":"b16e"};function n(e){var t=r(e);return s(t)}function r(e){if(!s.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}n.keys=function(){return Object.keys(a)},n.resolve=r,e.exports=n,n.id="a35b"},a391:function(e,t,s){"use strict";s("274f")},acd9:function(e,t,s){"use strict";s("cea7")},b09f:function(e,t,s){"use strict";s("8866")},b16e:function(e){e.exports=JSON.parse('{"message":"salut i18n !!","rules":{"rules":{"title":"Les regles","body":"Les requêtes standard sont jouées dans un ordre aléatoire et les VIP dans l\'ordre d\'ajout.\\n\\nUn modérateur peut vous demander de modifier votre requête pour diverse raison parmis mais non limité à :\\n- la musique a déjà été joué durant le live en cours\\n- l\'accordage n\'est pas possible à reproduire avec le matériel à disposition\\n- le lien vers le fichier de la musique est mort\\n- la musique est mal chartée\\n- la musique est trop compliquée\\n\\nNe pas obéir à une telle demande mènera au blocage de votre requête.\\n\\nVotre requête sera automatiquement supprimée si vous êtes absent pour une trop longue période.\\n\\nNe pas se conformer aux règles mènera au blocage de votre requête. Toute infraction répétées mèneront à des sanctions à la discrétion des modérateurs (suppression de la requête, bannissement temporaire ou définitif du chat... ).","agree":"J\'accepte les regles"},"footer":"Vous avez trouvé un bug? Ouvrez une issue sur [Github](https://github.com/Ragnar-Oock/setlist/issues)"},"welcome":{"message":{"part1":"Regardez, sait-on jamais...","part2":"Vous trouverez sûrement une musique qui vous plait"},"see":"Aller voir","scrolldown":"Section suivante"},"search":{"label":"Rechercher une musique, un artist ou un album","placeholder":"Recherche un titre, un artiste...","submit":"Rechercher","filters":"Filtres","suggestion":{"artists":"Artistes","songs":"Musiques","number":"{0} suggestions on été trouvées. Utiliser fleche du haut ou fleche du bas pour les explorer.","songArtistLink":"de"},"advenced":{"lastInterpretation":{"title":"Dernière interprétation (en jours)","help":"Nombre de jours depuis la dernière foi que cette musique a été jouée.<br>100 equivaux à jamais jouée","min":"Durée minimum","max":"Durée maximum"},"InterpretationNumber":{"title":"Nombre d\'interpréations","min":"Nombre minimum","max":"Nombre maximum"},"score":{"title":"Score","min":"Score minimum","max":"Score maximum"},"dlc":{"official":"Officielles","cdlc":"CDLC","help":"Afficher uniquement les musiques officielles du jeu, uniquement les musiques de la communauté ou les deux"},"light":{"button":"Effets de lumière","help":"La musique recherchée a des effets de lumiere"},"lirics":{"button":"Paroles","help":"La musique recherchée affiche ses paroles"},"arrangement":{"label":"Arrangement :","rhythm":"Rhythmique","lead":"Guitare principale","bass":"Basse"},"reset":"Vider les champs","submit":"Rechercher","close":"Fermer"}},"order":{"by":"Ranger la liste par :","values":{"name":"Titre","album":"Album","artist":"Artiste","update_date":"Nouveauté"}},"song":{"duration":"Durée de la musique","showlight":"Cette musique a des effets de lumiere","lyrics":"Cette musique affiches ses paroles","quickCopy":"Copier la commande","noMeta":"Aucune information additionnelle","diplaytunings":"Afficher les accordage des arrangements","byArtist":" de ","prebuild":{"vip":{"label":"VIP","tooltip":"Faire une request VIP"},"regular":{"label":"Normale","tooltip":"Faire une request normale"},"request":{"label":"Request","tooltip":"Faire une request"},"edit":{"label":"Editer","tooltip":"Modifier une request"},"output":"Commande prégénérée","copy":{"label":"Copier","tooltip":"Copier la commande"},"copied":"Commande copiée"},"tags":{"Officielle":"Officielle"},"arrangements":{"tunning":", accordage :","Inconnu":"Inconnu"}},"topBar":{"darkMode":"Mode sombre"},"loading":"Chargement de la liste","apiError":"Une erreur est survenue","listEnd":{"title":"La fin du monde!","hint":"Vous etes arrivé à la fin de la liste.\\nEssayez de chercher autre chose."},"kofi":{"title":"Aide le développement de la nouvelle setlist.","quote":"Si seulement 1% des utilisateurs donnaient 1€, à la fin de l\'année je pourrait m\'acheter 2 kebabs...","signature":"Ragnar - 2020","button":"Achete moi un café","tooltip":"Tips"}}')},b382:function(e,t,s){},bb13:function(e,t,s){"use strict";s("0eeb")},bea8:function(e,t,s){e.exports=s.p+"img/Ko-fi-cropped.e019e65e.png"},c2c9:function(e,t,s){"use strict";s("b382")},c57c:function(e,t,s){},c583:function(e,t,s){"use strict";s("c57c")},cea7:function(e,t,s){},d2b2:function(e,t,s){"use strict";function a(e){return JSON.parse(e)}s.d(t,"a",(function(){return a}))},d4bd:function(e,t,s){"use strict";s("7632")},e312:function(e){e.exports=JSON.parse('{"message":"salut i18n !!","rules":{"rules":{"title":"The rules","body":"Standard requests are performed in random order, and VIP requests are played in order.\\n\\nA moderator can ask you to change your request for various reasons that can be but are not limited to:\\n- the song has been played already during the current stream\\n- the tuning is not achievable with the hardware on hand\\n- the link to the chart is dead\\n- the song is poorly charted\\n- the chart is too hard to perform  \\nNot complying with the injunction of the moderator will result in your request being blocked.\\n\\nYour request is automatically removed from the playlist if you were absent for a prolonged period.\\n\\nNot respecting the rules will lead to the blocking of the request. Any repeated infraction will lead to sanctions at the discretion of the moderators (removing of your request, temporary or definitive banishment on the chat...)","agree":"I agree with the rules"},"footer":"Found a bug? Open an issue on [Github](https://github.com/Ragnar-Oock/setlist/issues)"},"welcome":{"message":{"part1":"Have a look, who knows...","part2":"You may find something you\'d like."},"see":"See for yourself","scrolldown":"Scrolldown"},"search":{"label":"Search a song, an artist, or an album","placeholder":"Search a song, an artist...","submit":"Search","filters":"Filters","suggestion":{"artists":"Artists","songs":"Songs","number":"{0} suggestions where found. Use the up and down arrows to explore it.","songArtistLink":"by"},"advenced":{"lastInterpretation":{"title":"Last interpretation (in days)","help":"Number of days since the music was last played<br>100 equals to never played","min":"Lower bound","max":"Upper bound"},"InterpretationNumber":{"title":"Number of interpretation","min":"Lower bound","max":"Upper bound"},"score":{"title":"Score","min":"Lower bound","max":"Upper bound"},"dlc":{"official":"Officials","cdlc":"CDLC","help":"Display only official songs of the game, only songs from the community or all songs."},"light":{"button":"Show lights","help":"The researched song have show lights"},"lirics":{"button":"Lyrics","help":"The researched song displays its lyrics"},"arrangement":{"label":"Arrangement :","rhythm":"rhythm","lead":"Lead","bass":"Bass"},"reset":"Reset","submit":"Search","close":"Close"}},"order":{"by":"Order the list by :","values":{"name":"Title","album":"Album","artist":"Artist","update_date":"Updated"}},"song":{"duration":"Song duration","showlight":"This song have light\'s effects","lyrics":"This song shows its lyrics","quickCopy":"Copy command","noMeta":"No additionnal info","diplaytunings":"Toggle arrangement\'s tuning display","byArtist":" by ","prebuild":{"vip":{"label":"VIP","tooltip":"Make a VIP request"},"regular":{"label":"Regular","tooltip":"Make a regular request"},"request":{"label":"Request","tooltip":"Make a request"},"edit":{"label":"Edit","tooltip":"Edit a request"},"output":"Command output","copy":{"label":"Copy","tooltip":"Copy command"},"copied":"Command copied"},"tags":{"Officielle":"Official"},"arrangements":{"tunning":", tunning :","Inconnu":"unknown"}},"topBar":{"darkMode":"Dark mode"},"loading":"Loading the list","apiError":"Something when wrong","listEnd":{"title":"This is the end...","hint":"Try searching for something else."},"kofi":{"title":"Help the development of the new setlist.","quote":"If only 1% of the users gave 1€, at the end of the month I could buy a kebab...","signature":"Ragnar - 2020","button":"Buy me a coffee","tooltip":"Tips"}}')}});
//# sourceMappingURL=app.f37fca48.js.map